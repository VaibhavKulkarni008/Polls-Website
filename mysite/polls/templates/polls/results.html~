<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
     google.charts.load('current', {packages: ['corechart']});     
   </script>
</head>
<body>
<div id="container" style="width: 550px; height: 400px; margin: 0 auto"></div>
<script language="JavaScript">
function drawChart() {
   // Define the chart to be drawn.
   var data = new google.visualization.DataTable();
   data.addColumn('string', 'Choice');
   data.addColumn('number', 'Votes');
   
   {% for choice in question.choice_set.all %}
   data.addRow(['{{ choice.choice_text }}', {{ choice.votes }} ]);
   {% endfor %}
   


  
   var options = {'title':'{{ question.question_text }}',
      'width':550,
      'height':400,
       is3D:true
   };

   // Instantiate and draw the chart.
   var chart = new google.visualization.PieChart(document.getElementById('container'));
   chart.draw(data, options);
}
google.charts.setOnLoadCallback(drawChart);
</script>



<h1>{{ question.question_text }}</h1>

<ul>
{% for choice in question.choice_set.all %}

	<li>{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}</li>
{% endfor %}
</ul>

<a href="{% url 'polls:detail' question.id %}">Vote again?</a>

<a href="{% url 'polls:export_excel' question.id %}">Export to Excel !</a>
